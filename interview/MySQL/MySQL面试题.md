## 请你说说MySQL索引,以及它们的好处和坏处



索引就像指向表行的指针,是一种允许查询操作快速确定哪些行符合WHERE子句中的条件,并检索到这些行的其他列值的数据结构； 

简单理解：索引就好比是一本书的目录，如果给书本排好了目录，那么只需要根据书本的目录，就可以定位到某个知识点的页码，而不用逐页逐页地查找，极大的节省查找书本内容的时间。

索引主要有`普通索引`、`唯一索引`、`主键索引`、`外键索引`、`全文索引`、`复合索引`几种； 

关于索引的数据结构。在MySQL默认的InnoDB引擎中使用的索引是B+Tree，相较于二叉树，B+Tree这种多叉树，更加矮宽，更适合存储在磁盘中。

**优点：**

在大数据量的查询中,合理使用索引的优点非常明显,不仅能大幅提高匹配where条件的检索效率,还能用于排序和分组操作的加速。 

**缺点：**

- 索引必定会增加存储资源的消耗；
- 同时也增大了插入、更新和删除操作的维护成本,因为每个增删改操作后相应列的索引都必须被更新。 

**加分回答** 

只要创建了索引,就一定会走索引吗？ 

不一定。 比如,在使用组合索引的时候,如果没有遵从“最左前缀”的原则进行搜索,则索引是不起作用的。 

举例,假设在id、name、age字段上已经成功建立了一个名为MultiIdx的组合索引。索引行中按id、name、age的顺序存放,索引可以搜索id、（id,name）、（id, name, age）字段组合。如果列不构成索引最左面的前缀,那么MySQL不能使用局部索引,如（age）或者（name,age）组合则不能使用该索引查询。